name: Get SHA256 Fingerprint

on:
  workflow_dispatch:

jobs:
  sha256:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/setup-java@v4
        with:
          java-version: '17'
          distribution: 'temurin'

      - name: Decode keystore and get SHA256
        run: |
          echo "${{ secrets.ANDROID_KEYSTORE_BASE64 }}" | base64 -d > release.keystore
          keytool -list -v \
            -keystore release.keystore \
            -alias "${{ secrets.ANDROID_KEY_ALIAS }}" \
            -storepass "${{ secrets.ANDROID_STORE_PASSWORD }}" \
            | grep -A1 "SHA256"
